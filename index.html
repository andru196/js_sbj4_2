<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<input type="button" onclick="buster(arr, 0)">
<script>
var arr = [1, 2, 3, 4, 5, 6, 7, 8];
var i = 0;

function someshit(a)
{return (a == arr[7] ? 0 : 1);}
    
function shifter(arr, i, j) //функция для сдвига элементов вправо и перемещения элемента с позиции j на позицию i
{
    var tmp = arr[j];
    for (var k = j; k > i; k--)
        arr[k] = arr[k - 1];
    arr[k] = tmp;
}

function reset(arr, i)
{
    for (var j = i; j < arr.length; j++)
        arr[j] = j+1;
}

function buster(arr, i)
{
    if (i == arr.length) return 0;
    if (i == 7 && someshit(arr[i]) == 1)
        return (1);
    else if (someshit(arr[i]) != 0)
    {
        buster(arr, i + 1)
    }// else
    {
        //console.log(arr);
        for (var j = i; j < arr.length; j++)
        {
            shifter(arr, i, j);
            buster(arr, j + 1);
            //reset(arr, j);
        }
        console.log(arr);
        reset(arr, i);
        return (0);
    }
}
</script>
</body>
</html>